<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–ö–ù –°–ò–ú–£–õ–Ø–¢–û–†: –î–ï–ü–£–¢–ê–¢ 2026</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --rkn-blue: #003399;
            --rkn-gold: #ccac41;
            --danger: #d32f2f;
            --success: #2e7d32;
            --dark: #0f172a;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--dark);
            color: white;
            overflow-x: hidden;
            user-select: none;
            line-height: 1.5;
            transition: background-color 1.5s ease;
        }

        /* === –î–ò–°–ö–õ–ï–ô–ú–ï–† === */
        #disclaimer {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
            text-align: center;
        }
        #disclaimer h2 {
            color: var(--rkn-gold);
            font-size: 2.2rem;
            margin-bottom: 20px;
        }
        #disclaimer p {
            max-width: 700px;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #cbd5e1;
        }
        #accept-btn {
            padding: 12px 30px;
            background: var(--rkn-gold);
            color: #000;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1.1rem;
        }

        /* === –í–°–¢–£–ü–ò–¢–ï–õ–¨–ù–´–ô –≠–ö–†–ê–ù === */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.8s ease;
        }

        #intro-screen h1 {
            font-size: 3rem;
            margin-bottom: 40px;
            color: var(--rkn-gold);
            text-shadow: 0 0 15px rgba(204, 172, 65, 0.7);
            letter-spacing: 3px;
        }

        #enter-btn {
            padding: 18px 50px;
            font-size: 1.4rem;
            background: var(--rkn-gold);
            color: #000;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 8px 0 #9e8532;
            transition: all 0.2s;
        }

        #enter-btn:hover {
            background: #e3c152;
        }

        #enter-btn:active {
            transform: translateY(5px);
            box-shadow: 0 3px 0 #9e8532;
        }

        /* === –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ === */
        #main-content {
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease;
        }

        #main-content.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* === –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –í–ò–ë–†–ê–¶–ò–Ø === */
        .vibrate-0 { animation: vibrate 8s infinite ease-in-out; }
        .vibrate-1 { animation: vibrate 6s infinite ease-in-out; }
        .vibrate-2 { animation: vibrate 4s infinite ease-in-out; }
        .vibrate-3 { animation: vibrate 2s infinite ease-in-out; }
        .vibrate-4 { animation: vibrate 1s infinite ease-in-out; }
        .vibrate-5 { animation: vibrate 0.5s infinite ease-in-out; }

        @keyframes vibrate {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-2px, -2px); }
            20% { transform: translate(2px, -2px); }
            30% { transform: translate(-2px, 2px); }
            40% { transform: translate(2px, 2px); }
            50% { transform: translate(-2px, 0); }
            60% { transform: translate(2px, 0); }
            70% { transform: translate(0, -2px); }
            80% { transform: translate(0, 2px); }
            90% { transform: translate(2px, -2px); }
        }

        /* === –°–ù–ï–ì === */
        #snow-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .app-container {
            position: relative;
            z-index: 10;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: var(--rkn-blue);
            padding: 20px;
            text-align: center;
            border-bottom: 5px solid var(--rkn-gold);
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
            animation: shine 4s infinite;
        }

        @keyframes shine {
            to { left: 200%; }
        }

        h1.main-title {
            margin: 0;
            font-size: 2.2rem;
            letter-spacing: 2px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        .subtitle {
            font-size: 0.85rem;
            letter-spacing: 3px;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.9);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.07);
            padding: 20px;
            border-radius: 12px;
            border-bottom: 4px solid var(--rkn-gold);
            text-align: center;
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-box:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .stat-label {
            font-size: 0.95rem;
            opacity: 0.85;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--rkn-gold);
            margin-top: 5px;
            text-shadow: 0 0 8px rgba(204, 172, 65, 0.3);
        }

        .casino-block {
            background: #1e293b;
            padding: 40px;
            border-radius: 24px;
            border: 1px solid #334155;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .status-label {
            text-align: center;
            margin-bottom: 15px;
            color: var(--rkn-gold);
            font-weight: 900;
            letter-spacing: 1.5px;
            font-size: 1.2rem;
            text-shadow: 0 0 6px rgba(204, 172, 65, 0.4);
        }

        .roulette-viewport {
            width: 100%;
            height: 180px;
            background: #f8fafc;
            border: 8px solid var(--rkn-gold);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .roulette-marker {
            position: absolute;
            left: 50%;
            top: 0;
            width: 6px;
            height: 100%;
            background: var(--danger);
            z-index: 20;
            transform: translateX(-50%);
            box-shadow: 0 0 15px rgba(211, 47, 47, 0.7);
        }

        #tape {
            display: flex;
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            will-change: transform;
            transition: none;
        }

        .item-card {
            min-width: 180px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #334155;
            border-right: 1px solid #e2e8f0;
            font-weight: bold;
            font-size: 1rem;
            background: white;
            transition: background 0.2s;
        }

        .item-card:hover {
            background: #f1f5f9;
        }

        /* === –ò–ö–û–ù–ö–ò === */
        .item-card i {
            font-size: 2.2rem;
            margin-bottom: 12px;
            color: var(--rkn-blue);
        }

        .sigma-icon {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--rkn-blue);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 50px;
            font-family: 'Segoe UI', Georgia, serif;
        }

        .btn-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 800;
            text-transform: uppercase;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: 1px;
            z-index: 20;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .btn-main {
            background: var(--rkn-gold);
            color: #1e293b;
            font-size: 1.3rem;
            box-shadow: 0 6px 0 #9e8532;
            position: relative;
            animation: pulse 2s infinite;
        }

        .btn-main:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #9e8532;
        }

        .btn-main:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: scale(0.98);
            animation: none;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 6px 0 #9e8532, 0 0 0 0 rgba(204, 172, 65, 0.4); }
            50% { box-shadow: 0 6px 0 #9e8532, 0 0 0 12px rgba(204, 172, 65, 0); }
        }

        .btn-truth {
            background: #3b82f6;
            color: white;
            width: 100%;
            max-width: 450px;
            justify-content: center;
        }

        .btn-truth:hover {
            background: #2563eb;
        }

        .action-btns {
            display: none;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn-red { background: var(--danger); color: white; }
        .btn-green { background: var(--success); color: white; }
        .btn-yellow { background: #f59e0b; color: white; }
        .btn-purple { background: #8b5cf6; color: white; }
        .btn-escape { 
            background: #64748b; 
            color: white; 
            position: fixed;
            bottom: 120px;
            right: 20px;
            z-index: 99;
            padding: 12px 20px;
            font-size: 0.9rem;
        }

        /* === –ü–û–í–ï–°–¢–ö–ê –î–ù–Ø === */
        .agenda-section {
            margin-top: 30px;
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--rkn-blue);
        }

        .agenda-title {
            margin-top: 0;
            color: var(--rkn-gold);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.2rem;
        }

        .agenda-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }

        .agenda-buttons .btn {
            padding: 8px 12px;
            font-size: 0.82rem;
            width: auto;
            max-width: 140px;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* === –ù–û–í–û–°–¢–ò === */
        .news-section {
            margin-top: 25px;
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--rkn-blue);
        }

        .news-title {
            margin-top: 0;
            color: var(--rkn-gold);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.2rem;
        }

        #news-feed {
            list-style: none;
            padding: 0;
            max-height: 160px; /* ‚Üê –ö–æ—Ä–æ—á–µ, –∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ */
            overflow-y: auto;
        }

        .news-entry {
            padding: 12px;
            border-bottom: 1px solid #334155;
            font-size: 0.95rem;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .stamp {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0) rotate(-15deg);
            padding: 20px 50px;
            border: 12px solid;
            font-size: 4rem;
            font-weight: 950;
            background: white;
            border-radius: 20px;
            z-index: 100;
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.5);
            opacity: 0;
            pointer-events: none;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .stamp.show {
            transform: translate(-50%, -50%) scale(1) rotate(-15deg);
            opacity: 1;
        }

        .music-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 65px;
            height: 65px;
            background: var(--rkn-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 3px solid var(--rkn-gold);
            z-index: 100;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s;
        }

        .music-toggle:hover {
            transform: scale(1.1);
        }

        .music-toggle i {
            font-size: 1.5rem;
            color: var(--rkn-gold);
        }

        .music-playing i {
            animation: rotateMusic 2s linear infinite;
        }

        @keyframes rotateMusic {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        #news-feed::-webkit-scrollbar {
            width: 8px;
        }
        #news-feed::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.2);
            border-radius: 4px;
        }
        #news-feed::-webkit-scrollbar-thumb {
            background: var(--rkn-gold);
            border-radius: 4px;
        }

        /* === BSOD === */
        .bsod-shake {
            animation: bsodShake 0.1s infinite;
        }
        @keyframes bsodShake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }

        /* === ESCAPE SCREEN === */
        #escape-screen {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #0c0c0c;
            color: #ccac41;
            font-family: 'Segoe UI', monospace;
            z-index: 10000;
            text-align: center;
            padding: 50px;
            box-sizing: border-box;
        }
        #escape-screen h2 {
            font-size: 3rem;
            margin: 40px 0;
        }
        #escape-screen p {
            font-size: 1.4rem;
            max-width: 800px;
            margin: 0 auto 50px;
            line-height: 1.6;
        }
        #restart-btn {
            background: var(--rkn-gold);
            color: #000;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            border-radius: 8px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* === VICTORY SCREEN === */
        #victory-screen {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: #ccac41;
            font-family: 'Segoe UI', monospace;
            z-index: 10000;
            text-align: center;
            padding: 50px;
            box-sizing: border-box;
        }
        #victory-screen h2 {
            font-size: 2.8rem;
            margin: 20px 0;
        }
        #victory-screen p {
            font-size: 1.4rem;
            max-width: 800px;
            margin: 0 auto 50px;
            line-height: 1.6;
        }
        #award-btn {
            background: var(--rkn-gold);
            color: #000;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            border-radius: 8px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 6px 0 #9e8532;
        }

        /* === –°–õ–û–ú–ê–ù–ù–ê–Ø –ê–ü–ü–ê–†–ê–¢–£–†–ê === */
        .broken-equipment {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 120px;
            background: repeating-linear-gradient(
                45deg,
                #2d3748,
                #2d3748 10px,
                #4a5568 10px,
                #4a5568 20px
            );
            display: none;
            z-index: 50;
            border-top: 3px solid #ef4444;
        }
        .broken-equipment::after {
            content: "‚ö†Ô∏è –°–ò–°–¢–ï–ú–ê –ù–ï–°–¢–ê–ë–ò–õ–¨–ù–ê ‚ö†Ô∏è";
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: #ef4444;
            font-weight: bold;
            font-size: 1.2rem;
            text-shadow: 0 0 5px black;
        }

        /* === –í–ó–†–´–í –ö–ù–û–ü–û–ö === */
        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); box-shadow: 0 0 20px #ef4444; }
            100% { transform: scale(0.8); opacity: 0.7; }
        }
        .exploding {
            animation: explode 0.5s infinite alternate;
        }

        /* === –°–û–û–ë–©–ï–ù–ò–Ø –û–¢ –ñ–ò–¢–ï–õ–ï–ô === */
        #citizen-popup {
            display: none;
            position: fixed;
            bottom: 200px;
            left: 50%;
            transform: translateX(-50%);
            background: #1e293b;
            border: 2px solid var(--rkn-gold);
            border-radius: 16px;
            padding: 25px;
            max-width: 600px;
            z-index: 200;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* === –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø === */
        @media (max-width: 768px) {
            body {
                font-size: 14px;
            }

            header {
                padding: 15px;
            }
            h1.main-title {
                font-size: 1.6rem;
            }
            .subtitle {
                font-size: 0.75rem;
                letter-spacing: 2px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 12px;
                margin-bottom: 20px;
            }
            .stat-value {
                font-size: 1.5rem;
            }

            .casino-block {
                padding: 20px;
                border-radius: 16px;
            }

            .status-label {
                font-size: 1rem;
                margin-bottom: 10px;
            }

            .roulette-viewport {
                height: 120px;
                border-width: 6px;
                margin-bottom: 20px;
            }

            #tape {
                flex-direction: column;
                width: 100%;
                height: auto;
            }
            .item-card {
                min-width: 100%;
                height: 80px;
                flex-direction: row;
                justify-content: flex-start;
                padding: 0 15px;
            }
            .item-card i,
            .sigma-icon {
                font-size: 1.8rem !important;
                margin: 0 10px 0 0 !important;
                height: auto !important;
            }
            .item-card span {
                font-size: 0.95rem;
            }

            .btn-container {
                gap: 15px;
            }
            .btn {
                padding: 12px 20px;
                font-size: 0.9rem;
                gap: 8px;
            }
            .btn-main {
                font-size: 1.1rem;
                padding: 14px 25px;
            }

            .agenda-buttons {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
            .agenda-buttons .btn {
                padding: 6px 8px;
                font-size: 0.75rem;
                max-width: 120px;
            }

            #news-feed {
                max-height: 120px;
            }

            .news-section, .agenda-section {
                padding: 15px;
                margin-top: 20px;
            }
            .news-title, .agenda-title {
                font-size: 1.1rem;
            }
            .news-entry {
                font-size: 0.85rem;
                padding: 8px;
            }

            .btn-escape {
                bottom: 80px;
                right: 15px;
                padding: 8px 15px;
                font-size: 0.8rem;
            }

            #citizen-popup {
                bottom: 150px;
                padding: 15px;
                max-width: 90%;
            }
            #citizen-popup button {
                padding: 8px 15px;
                font-size: 0.85rem;
            }

            #bsod, #victory-screen, #escape-screen {
                padding: 20px;
            }
            #bsod h2, #victory-screen h2, #escape-screen h2 {
                font-size: 2rem;
            }
            #bsod p, #victory-screen p, #escape-screen p {
                font-size: 1.1rem;
            }
            #restart-btn, #reboot-btn, #award-btn {
                padding: 12px 30px;
                font-size: 1.1rem;
            }
        }

        @media (max-width: 480px) {
            .item-card {
                height: 70px;
            }
            .item-card i,
            .sigma-icon {
                font-size: 1.6rem !important;
            }
            .stat-value {
                font-size: 1.3rem;
            }
            .btn {
                padding: 10px 15px;
                font-size: 0.85rem;
            }
            .agenda-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>

<!-- –î–ò–°–ö–õ–ï–ô–ú–ï–† -->
<div id="disclaimer">
    <h2>–í–ù–ò–ú–ê–ù–ò–ï: –°–ê–¢–ò–†–ò–ß–ï–°–ö–ò–ô –ü–†–û–ï–ö–¢</h2>
    <p>
        –î–∞–Ω–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∏ —Å–∞—Ç–∏—Ä–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.
        –í—Å–µ —Å–æ–±—ã—Ç–∏—è, –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤—ã–º—ã—à–ª–µ–Ω—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –∏—Ä–æ–Ω–∏—á–µ—Å–∫–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.
        –ê–≤—Ç–æ—Ä –Ω–µ –ø—Ä–∏–∑—ã–≤–∞–µ—Ç –∫ –∫–∞–∫–∏–º-–ª–∏–±–æ –¥–µ–π—Å—Ç–≤–∏—è–º –∏ –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é.
        –í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ –º—É–∑—ã–∫—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ï–≤–≥–µ–Ω–∏—é –¢—Ä–∏–∫–æ–∑—É, –∞–≤—Ç–æ—Ä —Å–µ–±–µ –∏—Ö –Ω–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç.
    </p>
    <button id="accept-btn">–Ø –ü–û–ù–ò–ú–ê–Æ, –ß–¢–û –≠–¢–û –®–£–¢–ö–ê</button>
</div>

<!-- –í–°–¢–£–ü–ò–¢–ï–õ–¨–ù–´–ô –≠–ö–†–ê–ù -->
<div id="intro-screen" style="display:none;">
    <h1>–†–û–°–ö–û–ú–ù–ê–î–ó–û–†<br>–î–ï–ü–£–¢–ê–¢–°–ö–ò–ô –†–ï–ñ–ò–ú</h1>
    <button id="enter-btn">–í–û–ô–¢–ò –í –ì–û–°–î–£–ú–£</button>
</div>

<!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
<div id="main-content">
    <canvas id="snow-layer"></canvas>

    <header>
        <div class="subtitle">–ì–û–°–£–î–ê–†–°–¢–í–ï–ù–ù–ê–Ø –î–£–ú–ê –†–§</div>
        <h1 class="main-title">–†–ö–ù –°–ò–ú–£–õ–Ø–¢–û–†: –î–ï–ü–£–¢–ê–¢ 2026</h1>
    </header>

    <div class="app-container" id="vibrating-area">
        <div class="stats-grid">
            <div class="stat-box">
                <div class="stat-label">–ë–Æ–î–ñ–ï–¢</div>
                <div id="stat-money" class="stat-value">0 –ú–õ–ù ‚ÇΩ</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">–û–ß–ò–°–¢–ö–ê –°–ï–¢–ò</div>
                <div id="stat-blocks" class="stat-value">0%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">–î–û–í–ï–†–ò–ï –ì–†–ê–ñ–î–ê–ù</div>
                <div id="stat-trust" class="stat-value">100%</div>
            </div>
        </div>

        <div class="casino-block">
            <div class="status-label" id="status-label">–í–ï–†–®–ò–¢–ï –°–£–î–¨–ë–£ –†–£–ù–ï–¢–ê</div>
            
            <div class="roulette-viewport">
                <div class="roulette-marker"></div>
                <div id="tape"></div>
                <div id="stamp-ui" class="stamp">–ë–ê–ù</div>
            </div>

            <div class="btn-container">
                <button id="spin-btn" class="btn btn-main" onclick="startSpin()">
                    <i class="fa-solid fa-gavel"></i> –í–´–ë–†–ê–¢–¨ –û–ë–™–ï–ö–¢
                </button>

                <div id="group-standard" class="action-btns">
                    <button class="btn btn-yellow" onclick="apply('slow')">–ó–ê–ú–ï–î–õ–ò–¢–¨</button>
                    <button class="btn btn-red" onclick="apply('ban')">–ó–ê–ë–ê–ù–ò–¢–¨</button>
                    <button class="btn btn-green" onclick="apply('clone')">–ê–ù–ê–õ–û–ì</button>
                    <button class="btn btn-purple" onclick="apply('complain')">–ü–û–ñ–ê–õ–û–í–ê–¢–¨–°–Ø –ù–ê –°–ú–ò</button>
                </div>

                <div id="group-special" class="action-btns">
                    <button class="btn btn-green" onclick="apply('tree')">–£–ö–†–ê–°–ò–¢–¨ –ï–õ–¨</button>
                    <button class="btn btn-red" onclick="apply('money')">–í–ó–Ø–¢–¨ –ì–†–ê–ù–¢</button>
                    <button class="btn btn-red" onclick="apply('weather')">–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–¢–¨ –ü–û–ì–û–î–£</button>
                    <button class="btn btn-green" onclick="apply('report')">–û–¢–ß–ï–¢ –û–ë –£–°–ü–ï–•–ê–•</button>
                    <button class="btn btn-yellow" onclick="apply('hide')">–°–ö–†–´–¢–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–£</button>
                </div>

                <div id="group-patriot" class="action-btns">
                    <button class="btn btn-yellow" onclick="patriotAction('ads')">–ù–ê–ü–ò–•–ê–¢–¨ –†–ï–ö–õ–ê–ú–´</button>
                    <button class="btn btn-green" onclick="patriotAction('max')">–ü–†–ò–í–Ø–ó–ê–¢–¨ –ú–ê–ö–°</button>
                    <button class="btn btn-purple" onclick="patriotAction('praise')">–í–û–°–•–í–ê–õ–Ø–¢–¨ –í –°–ú–ò</button>
                </div>

                <button class="btn btn-truth" onclick="getTruthNews()">
                    <i class="fa-solid fa-newspaper"></i> –û–ó–í–£–ß–ò–¢–¨ –ü–û–í–ï–°–¢–ö–£
                </button>
            </div>
        </div>

        <!-- –ü–û–í–ï–°–¢–ö–ê –î–ù–Ø (–≤—Å–µ–≥–¥–∞ –í–´–®–ï –Ω–æ–≤–æ—Å—Ç–µ–π) -->
        <div class="agenda-section">
            <h3 class="agenda-title"><i class="fa-solid fa-list-check"></i> –ü–û–í–ï–°–¢–ö–ê –î–ù–Ø</h3>
            <div class="agenda-buttons">
                <button class="btn btn-red" onclick="agendaAction('salary')">
                    <i class="fa-solid fa-sack-dollar"></i> –ó/–ü –î–ï–ü–£–¢–ê–¢–ê–ú
                </button>
                <button class="btn btn-green" onclick="agendaAction('thoughts')">
                    <i class="fa-solid fa-brain"></i> –ó–ê–ü–†–ï–¢–ò–¢–¨ –ú–´–°–õ–ò
                </button>
                <button class="btn btn-yellow" onclick="agendaAction('poll')">
                    <i class="fa-solid fa-chart-pie"></i> –û–ü–†–û–°
                </button>
                <button class="btn btn-green" onclick="agendaAction('tree-gift')">
                    <i class="fa-solid fa-gift"></i> –ï–õ–ö–ê –®–ö–û–õ–ê–ú
                </button>
                <button class="btn btn-red" onclick="agendaAction('cyber-war')">
                    <i class="fa-solid fa-shield-halved"></i> –ö–ò–ë–ï–†–ß–°
                </button>
                <button class="btn btn-yellow" onclick="agendaAction('media-bribe')">
                    <i class="fa-solid fa-newspaper"></i> –ü–û–î–ö–£–ü–ò–¢–¨ –°–ú–ò
                </button>
                <button class="btn btn-green" onclick="agendaAction('patriot-law')">
                    <i class="fa-solid fa-scale-balanced"></i> –ó–ê–ö–û–ù –û –ü–ê–¢–†–ò–û–¢–ò–ó–ú–ï
                </button>
                <button class="btn btn-red" onclick="agendaAction('crypto-ban')">
                    <i class="fa-brands fa-bitcoin"></i> –ó–ê–ü–†–ï–¢–ò–¢–¨ –ö–†–ò–ü–¢–£
                </button>
                <button class="btn btn-purple" onclick="agendaAction('ai-control')">
                    <i class="fa-solid fa-robot"></i> –ö–û–ù–¢–†–û–õ–¨ –ò–ò
                </button>
            </div>
        </div>

        <!-- –ù–û–í–û–°–¢–ò -->
        <div class="news-section">
            <h3 class="news-title"><i class="fa-solid fa-tower-broadcast"></i> –°–í–û–î–ö–ê –°–ú–ò:</h3>
            <ul id="news-feed"></ul>
        </div>
    </div>

    <!-- –°–õ–û–ú–ê–ù–ù–ê–Ø –ê–ü–ü–ê–†–ê–¢–£–†–ê -->
    <div class="broken-equipment" id="broken-equipment"></div>

    <!-- –ö–ù–û–ü–ö–ê –°–ë–ï–ñ–ê–¢–¨ -->
    <button id="escape-btn" class="btn btn-escape" style="display:none;" onclick="escapeFromDuma()">
        <i class="fa-solid fa-running"></i> –°–ë–ï–ñ–ê–¢–¨ –ò–ó –ì–û–°–î–£–ú–´
    </button>

    <div class="music-toggle" onclick="toggleAudio(event)">
        <i id="music-icon" class="fa-solid fa-music"></i>
    </div>
</div>

<!-- –°–û–û–ë–©–ï–ù–ò–Ø –û–¢ –ñ–ò–¢–ï–õ–ï–ô -->
<div id="citizen-popup">
    <div id="citizen-message"></div>
    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 20px;">
        <button class="btn btn-green" onclick="citizenChoice('good')" style="padding: 10px 20px; font-size: 0.95rem;">
            <i class="fa-solid fa-hand-holding-heart"></i> –ü–û–ú–û–ß–¨
        </button>
        <button class="btn btn-red" onclick="citizenChoice('bad')" style="padding: 10px 20px; font-size: 0.95rem;">
            <i class="fa-solid fa-sack-dollar"></i> –ó–ê–ë–†–ê–¢–¨
        </button>
    </div>
</div>

<!-- –≠–ö–†–ê–ù –ü–û–ë–ï–ì–ê -->
<div id="escape-screen">
    <h2>–¢–ò–•–ò–ô –£–•–û–î</h2>
    <p>–í—ã —Ç–∞–π–Ω–æ –ø–æ–∫–∏–Ω—É–ª–∏ –ì–æ—Å–¥—É–º—É –≤ —Å–∞–º—ã–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–º–µ–Ω—Ç.<br>
    –í–∞—à–∞ –æ—Ç—Å—Ç–∞–≤–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω–æ–π. –°–∫—Ä–µ–ø—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä—É—à–∏—Ç—å—Å—è,<br>
    –Ω–æ –≤—ã —É–∂–µ –Ω–∞ –±–µ—Ä–µ–≥—É –ß–µ—Ä–Ω–æ–≥–æ –º–æ—Ä—è, –ø—å–µ—Ç–µ —á–∞–π –∏ –Ω–∞–±–ª—é–¥–∞–µ—Ç–µ –∑–∞ –∑–∞–∫–∞—Ç–æ–º.<br>
    <strong>–°—Ç—Ä–∞–Ω–∞ –≥–æ—Ä–∏—Ç, –Ω–æ –≤—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</strong></p>
    <button id="restart-btn">–ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û</button>
</div>

<!-- –≠–ö–†–ê–ù –ü–û–ë–ï–î–´ -->
<div id="victory-screen">
    <div style="font-size: 8rem; margin: 40px 0;">üá∑üá∫</div>
    <h2>–ü–û–ë–ï–î–ê!</h2>
    <p>
        –†—É–Ω–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–µ–Ω!<br>
        –¢–µ–ø–µ—Ä—å –≤ –Ω—ë–º —Ç–æ–ª—å–∫–æ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –ø–∞—Ç—Ä–∏–æ—Ç–∏—á–Ω—ã–µ –º–µ–º—ã.<br>
        –í—ã ‚Äî –≥–µ—Ä–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π —ç–ø–æ—Ö–∏!
    </p>
    <button id="award-btn">–ù–ê–ì–†–ê–î–ò–¢–¨ –°–ï–ë–Ø –û–†–î–ï–ù–û–ú</button>
</div>

<!-- –°–ò–ù–ò–ô –≠–ö–†–ê–ù –°–ú–ï–†–¢–ò -->
<div id="bsod" style="
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: #0078d7;
    color: white;
    font-family: 'Segoe UI', monospace;
    z-index: 10000;
    text-align: center;
    padding: 50px;
    box-sizing: border-box;
">
    <div style="font-size: 8rem; margin: 40px 0;">:(</div>
    <div style="font-size: 2.5rem; margin-bottom: 30px;">–í–∞—à–∞ –ø–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–≤–µ–ª–∞ –∫ –∫–æ–ª–ª–∞–ø—Å—É.</div>
    <div style="font-size: 1.8rem; margin-bottom: 50px; max-width: 800px; margin-left: auto; margin-right: auto;">
        –í—ã —Ä–∞–∑–≤–∞–ª–∏–ª–∏ —Å—Ç—Ä–∞–Ω—É. –î–æ–≤–µ—Ä–∏–µ –≥—Ä–∞–∂–¥–∞–Ω —É–ø–∞–ª–æ –¥–æ –Ω—É–ª—è. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –ª–µ–∂–∏—Ç. –°–∫—Ä–µ–ø—ã —Ä–∞—Å—Å—ã–ø–∞–ª–∏—Å—å.
    </div>
    <button id="reboot-btn" style="
        background: #005a9e;
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.4rem;
        border-radius: 8px;
        cursor: pointer;
        text-transform: uppercase;
        letter-spacing: 2px;
        box-shadow: 0 6px 0 #003f70;
    ">–ü–ï–†–ï–ó–ê–ì–†–£–ó–ò–¢–¨ –ì–û–°–î–£–ú–£</button>
</div>

<script>
    // === –î–ò–°–ö–õ–ï–ô–ú–ï–† ===
    document.getElementById('accept-btn').addEventListener('click', () => {
        document.getElementById('disclaimer').style.display = 'none';
        document.getElementById('intro-screen').style.display = 'flex';
    });

    // === –í–•–û–î –í –ì–û–°–î–£–ú–£ ===
    document.getElementById('enter-btn').addEventListener('click', () => {
        document.getElementById('intro-screen').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('main-content').classList.add('active');
            
            // –ó–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏
            if (audioBuffer) {
                playMainAudio();
                document.querySelector('.music-toggle').classList.add('music-playing');
            }
        }, 800);
    });

    // === –î–ê–ù–ù–´–ï ===
    const targets = [
        { name: "YouTube", icon: "fa-brands fa-youtube", type: "std", patriotName: "–ü–∞—Ç—Ä–∏–æ—Ç–¢—É–±", blocked: false, isCloned: false },
        { name: "Discord", icon: "fa-brands fa-discord", type: "std", patriotName: "–°–∫—Ä–µ–ø–ö–æ—Ä–¥", blocked: false, isCloned: false },
        { name: "Steam", icon: "fa-brands fa-steam", type: "std", patriotName: "–ü–∞—Ä–æ–≤–æ–π–î–≤–∏–∂–æ–∫", blocked: false, isCloned: false },
        { name: "Telegram", icon: "fa-brands fa-telegram", type: "std", patriotName: "–¢–µ–ª–µ–≥—Ä–∞–º–º–∞", blocked: false, isCloned: false },
        { name: "VPN-–°–µ—Ä–≤–∏—Å", icon: "fa-solid fa-shield-halved", type: "std", patriotName: "–©–∏—Ç–†—É–Ω–µ—Ç–∞", blocked: false, isCloned: false },
        { name: "–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –ï–ª—å", icon: "fa-solid fa-tree", type: "spec", patriotName: "–°–∫—Ä–µ–ø–Ω–∞—è –Å–ª–∫–∞", blocked: false, isCloned: false },
        { name: "–í–∏–∫–∏–ø–µ–¥–∏—è", icon: "fa-solid fa-book-atlas", type: "std", patriotName: "–ü—Ä–∞–≤–¥–∞–ø–µ–¥–∏—è", blocked: false, isCloned: false },
        { name: "–û–±–ª–∞–∫–æ Google", icon: "fa-solid fa-cloud", type: "std", patriotName: "–û–±–ª–∞–∫–æ-–†—É—Å—å", blocked: false, isCloned: false },
        { name: "–ü–æ–≥–æ–¥–∞ Google", icon: "fa-solid fa-sun", type: "std", patriotName: "–ü–æ–≥–æ–¥–∞-–ú–∞—Ç—É—à–∫–∞", blocked: false, isCloned: false },
        { name: "–ì–æ—Å—É—Å–ª—É–≥–∏", icon: "fa-solid fa-landmark", type: "spec", patriotName: "–ì–æ—Å–°–ª—É–≥–∞", blocked: false, isCloned: false }
    ];

    const newsVault = [
        "–î–µ–ø—É—Ç–∞—Ç—ã –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –±—É–∫–≤ –≤ –∫–æ–¥–µ.",
        "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ç—Ä–∞—Ñ–∏–∫ –≤ –†–§ —Å—Ç–∞–ª –Ω–∞—Å—Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–º, —á—Ç–æ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ –≤–∏–¥–Ω–æ –±—É–¥—É—â–µ–µ.",
        "–ë—é–¥–∂–µ—Ç –Ω–∞ '–ß–µ–±—É—Ä–Ω–µ—Ç' —É—Å–ø–µ—à–Ω–æ –æ—Å–≤–æ–µ–Ω –∑–∞ —Ç—Ä–∏ –¥–Ω—è.",
        "–í –ì–æ—Å–¥—É–º–µ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ –≤—ã–¥–∞–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –ø–æ —Ç–∞–ª–æ–Ω–∞–º.",
        "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –≥–∏—Ä–ª—è–Ω–¥—ã –Ω–∞ –¢–≤–µ—Ä—Å–∫–æ–π –ø—Ä–∏–∑–Ω–∞–Ω—ã —Å–∞–º—ã–º–∏ —Å–∫—Ä–µ–ø–Ω—ã–º–∏ –≤ –º–∏—Ä–µ.",
        "–í –ì–æ—Å–¥—É–º–µ –≤–Ω–µ—Å–ª–∏ –∑–∞–∫–æ–Ω–æ–ø—Ä–æ–µ–∫—Ç –æ –∑–∞–º–µ–Ω–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –∫–æ–¥–µ –Ω–∞ ¬´—Ç–æ–≤–∞—Ä–∏—â_–∑–Ω–∞—á–µ–Ω–∏–µ¬ª.",
        "–†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä –Ω–∞—á–∞–ª –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å Wi-Fi-—Å–∏–≥–Ω–∞–ª—ã, –Ω–µ –ø—Ä–æ—à–µ–¥—à–∏–µ –ø–∞—Ç—Ä–∏–æ—Ç–∏—á–µ—Å–∫—É—é —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—É.",
        "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –ø–æ–ª—É—á–∏–ª–∏ –ø—Ä–µ–¥–ø–∏—Å–∞–Ω–∏–µ –ø–∏—Å–∞—Ç—å –∫–æ–¥ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ü–µ—Ä–∫–æ–≤–Ω–æ—Å–ª–∞–≤—è–Ω—Å–∫–æ–º —è–∑—ã–∫–µ.",
        "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –æ–±—è–∑–∞–ª–∏ —à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫ —Å—Ç–∏—Ö–∞–º–∏ –õ–µ—Ä–º–æ–Ω—Ç–æ–≤–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∑–∞–ø–∞–¥–Ω–æ–π –¥–µ–∑–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.",
        "–ú–∏–Ω—Ü–∏—Ñ—Ä—ã —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Å–º–∞–π–ª—ã –Ω–∞ –ø–æ—Ä—Ç—Ä–µ—Ç—ã –∫–ª–∞—Å—Å–∏–∫–æ–≤ —Ä—É—Å—Å–∫–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã.",
        "–ì—Ä–∞–∂–¥–∞–Ω–∞–º —Ä–∞–∑—Ä–µ—à–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∞—Ç–∏–Ω–∏—Ü—É —Ç–æ–ª—å–∫–æ –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º –∏ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —Ü–µ–ª—è—Ö –º–æ–ª–∏—Ç–≤—ã.",
        "–í—Å–µ —Ö–µ—à—Ç–µ–≥–∏ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –≤ ¬´#—Å–∫—Ä–µ–ø–∞_‚Ññ42¬ª.",
        "–ê–ª–≥–æ—Ä–∏—Ç–º—ã –ò–ò —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å –∫–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å —Ñ—Ä–∞–∑—ã: ¬´–ö–∞–∫ –≥–æ–≤–æ—Ä–∏–ª –Ω–∞—à –≤–µ–ª–∏–∫–∏–π –∑–µ–º–ª—è–∫‚Ä¶¬ª",
        "–ü–∞–∫–µ—Ç ¬´–Ø–Ω–¥–µ–∫—Å.–ü–ª—é—Å¬ª —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ ¬´–ü—Ä–∞–≤–¥—É¬ª 1953 –≥–æ–¥–∞.",
        "–ì–æ—Å–¥—É–º–∞ –æ–¥–æ–±—Ä–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç –ø–æ –∑–∞–º–µ–Ω–µ –æ–±–ª–∞–∫–æ–≤ –Ω–∞ –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ ‚Äî ¬´–û–±–ª–∞–∫–æ-–†—É—Å—å¬ª.",
        "–í –†–æ—Å—Å–∏–∏ –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–≤—ã–π –≤ –º–∏—Ä–µ –∫–≤–∞–Ω—Ç–æ–≤—ã–π –ø–∞—Ç—Ä–∏–æ—Ç–∏—á–µ—Å–∫–∏–π –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä.",
        "–°–±–µ—Ä–±–∞–Ω–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –°–∞–ª—é—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å —á–∏—Ç–∞–µ—Ç —É–∫–∞–∑—ã –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –≤—Å–ª—É—Ö –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π.",
        "–í—Å–µ QR-–∫–æ–¥—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —à—Ç—Ä–∏—Ö-–∫–æ–¥—ã —Å –ø–æ—Ä—Ç—Ä–µ—Ç–æ–º –ú–∏–Ω–∏–Ω–∞ –∏ –ü–æ–∂–∞—Ä—Å–∫–æ–≥–æ.",
        "–ú–∏–Ω–∑–¥—Ä–∞–≤ –ø—Ä–µ–¥–ª–æ–∂–∏–ª –ª–µ—á–∏—Ç—å —Ü–∏—Ñ—Ä–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á—Ç–µ–Ω–∏–µ–º ¬´–ö—Ä–∞—Ç–∫–æ–≥–æ –∫—É—Ä—Å–∞ –í–ö–ü(–±)¬ª –ø–µ—Ä–µ–¥ —Å–Ω–æ–º.",
        "–í Telegram-–±–æ—Ç–∞—Ö —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–¥—É–ª—è ¬´–¥—É—Ö–æ–≤–Ω–æ-–Ω—Ä–∞–≤—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏¬ª.",
        "¬´–ó–≤–æ–Ω–æ–∫ —Å –Ω–µ–∑–Ω–∞–∫–æ–º–æ–≥–æ –Ω–æ–º–µ—Ä–∞¬ª –ø—Ä–∏–∑–Ω–∞–Ω –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.",
        "–í —à–∫–æ–ª–∞—Ö –≤–≤–µ–¥—ë–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç: ¬´–ü–∞—Ç—Ä–∏–æ—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ –ö—É–ú–∏—Ä¬ª.",
        "–†–æ—Å—Å–∏—è –ø–µ—Ä–≤–æ–π –≤ –º–∏—Ä–µ –∑–∞–ø—Ä–µ—Ç–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–≤–∞ ¬´–±–∞–≥¬ª ‚Äî —Ç–µ–ø–µ—Ä—å —ç—Ç–æ ¬´–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ü–û¬ª.",
        "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —à–∞–ø–∫–µ-—É—à–∞–Ω–∫–µ.",
        "–í—Å–µ –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –æ–±—è–∑–∞–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≥–∏–º–Ω –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–≤—É–≥–ª–∞–≤–æ–≥–æ –æ—Ä–ª–∞ –≤ –ø–æ–ª—ë—Ç–µ.",
        "–ì—Ä–∞–∂–¥–∞–Ω–µ –ø—Ä–æ—Å—è—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –≤—Ä–µ–º—è –¥–æ –∫–æ–Ω—Ü–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤."
    ];

    const newsTypes = [
        { prefix: "–¢–†–ò–ë–£–ù–ê", color: "#3b82f6" },
        { prefix: "–°–ö–†–ï–ü–ê", color: "#ccac41" },
        { prefix: "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï", color: "#f59e0b" },
        { prefix: "–ò–ù–§–û–†–ú", color: "#64748b" },
        { prefix: "–≠–ö–°–¢–†–ï–ú–ò–ó–ú", color: "#ef4444" },
        { prefix: "–ü–ê–¢–†–ò–û–¢", color: "#10b981" }
    ];

    let money = 0;
    let blocksCount = 0;
    let trust = 100;
    let spinning = false;
    let currentItem = null;
    let degradationActive = false;
    let escapeButtonShown = false;
    let citizenInterval = null;
    let disabledAgendaButtons = new Set();

    // === –ê–£–î–ò–û –°–ò–°–¢–ï–ú–ê ===
    let audioContext = null;
    let audioBuffer = null;
    let mainSource = null;
    let isMainPlaying = false;
    let hangLoop = null;

    async function loadAudio() {
        try {
            const response = await fetch('trikoz.mp3');
            if (!response.ok) throw new Error('–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω');
            const arrayBuffer = await response.arrayBuffer();
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            audioBuffer = await audioContext.decodeAudioData(arrayBuffer);
            console.log("–ê—É–¥–∏–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ");
        } catch (e) {
            console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ trikoz.mp3:", e);
            alert("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –º—É–∑—ã–∫—É. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª ¬´trikoz.mp3¬ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ.");
        }
    }

    function playMainAudio() {
        if (!audioBuffer || !audioContext) return;
        stopHangAudio();
        mainSource = audioContext.createBufferSource();
        mainSource.buffer = audioBuffer;
        mainSource.loop = true;
        mainSource.connect(audioContext.destination);
        mainSource.start(0);
        isMainPlaying = true;
    }

    function stopMainAudio() {
        if (mainSource) {
            mainSource.stop();
            mainSource = null;
            isMainPlaying = false;
        }
    }

    function startHangAudio() {
        if (!audioBuffer || !audioContext) return;
        stopMainAudio();
        const hangDuration = 0.3;
        const sampleRate = audioBuffer.sampleRate;
        const numChannels = audioBuffer.numberOfChannels;
        const length = Math.floor(hangDuration * sampleRate);
        const hangBuffer = audioContext.createBuffer(numChannels, length, sampleRate);
        const startTime = 10;
        const startOffset = Math.min(Math.floor(startTime * sampleRate), audioBuffer.length - length);
        for (let channel = 0; channel < numChannels; channel++) {
            const sourceData = audioBuffer.getChannelData(channel);
            const hangData = hangBuffer.getChannelData(channel);
            for (let i = 0; i < length; i++) {
                hangData[i] = sourceData[startOffset + i] || 0;
            }
        }
        function playHang() {
            const source = audioContext.createBufferSource();
            source.buffer = hangBuffer;
            source.loop = false;
            source.connect(audioContext.destination);
            source.start(0);
            source.onended = () => {
                if (hangLoop) playHang();
            };
        }
        hangLoop = setInterval(playHang, hangDuration * 1000);
        playHang();
    }

    function stopHangAudio() {
        if (hangLoop) {
            clearInterval(hangLoop);
            hangLoop = null;
        }
    }

    // === –°–ù–ï–ì ===
    const canvas = document.getElementById('snow-layer');
    const ctx = canvas.getContext('2d');
    let flakes = [];

    function initSnow() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        flakes = Array.from({length: 80}, () => ({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            r: Math.random() * 3 + 1,
            d: Math.random() * 1 + 0.3
        }));
    }

    function drawSnow() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "rgba(255, 255, 255, 0.6)";
        flakes.forEach(f => {
            ctx.beginPath();
            ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
            ctx.fill();
            f.y += f.d;
            if (f.y > canvas.height) f.y = -10;
        });
        requestAnimationFrame(drawSnow);
    }

    // === –†–£–õ–ï–¢–ö–ê ===
    function generateTape() {
        const tape = document.getElementById('tape');
        tape.innerHTML = '';
        for (let i = 0; i < 70; i++) {
            const availableTargets = targets.filter(t => !t.blocked);
            if (availableTargets.length === 0) break;
            
            const t = availableTargets[Math.floor(Math.random() * availableTargets.length)];
            const displayName = t.isCloned ? t.patriotName : t.name;
            
            const card = document.createElement('div');
            card.className = 'item-card';
            
            if (t.icon === "Œ£") {
                card.innerHTML = `<div class="sigma-icon">Œ£</div><span>${displayName}</span>`;
            } else {
                card.innerHTML = `<i class="${t.icon}"></i><span>${displayName}</span>`;
            }
            
            tape.appendChild(card);
        }
    }

    function startSpin() {
        if (spinning) return;
        spinning = true;
        
        const btn = document.getElementById('spin-btn');
        const tape = document.getElementById('tape');
        const stamp = document.getElementById('stamp-ui');
        const status = document.getElementById('status-label');

        btn.disabled = true;
        stamp.classList.remove('show');
        document.querySelectorAll('.action-btns').forEach(el => el.style.display = 'none');
        status.innerText = "–ê–ù–ê–õ–ò–ó –ö–û–ù–¢–ï–ù–¢–ê –ù–ê –≠–ö–°–¢–†–ï–ú–ò–ó–ú...";
        
        tape.style.transition = 'none';
        tape.style.transform = 'translateX(0)';
        generateTape();

        setTimeout(() => {
            const itemWidth = 180;
            const winningIndex = 50 + Math.floor(Math.random() * 10);
            const winNode = tape.children[winningIndex];
            
            const displayedName = winNode.querySelector('span').innerText;
            let foundTarget = targets.find(t => 
                (!t.blocked) && (t.name === displayedName || t.patriotName === displayedName)
            );
            if (!foundTarget) {
                foundTarget = targets.find(t => !t.blocked) || targets[0];
            }
            currentItem = foundTarget;
            
            const viewportWidth = document.querySelector('.roulette-viewport').offsetWidth;
            const targetPos = (winningIndex * itemWidth) - (viewportWidth / 2) + (itemWidth / 2);

            tape.style.transition = 'transform 4s cubic-bezier(0.1, 0, 0.1, 1)';
            tape.style.transform = `translateX(-${targetPos}px)`;

            setTimeout(() => {
                spinning = false;
                btn.disabled = false;
                status.innerText = `–í–´–ë–†–ê–ù –û–ë–™–ï–ö–¢: ${currentItem.isCloned ? currentItem.patriotName : currentItem.name}`;
                
                if (currentItem.type === 'spec') {
                    document.getElementById('group-special').style.display = 'flex';
                } else if (currentItem.isCloned) {
                    document.getElementById('group-patriot').style.display = 'flex';
                } else {
                    document.getElementById('group-standard').style.display = 'flex';
                }
            }, 4100);
        }, 50);
    }

    // === –õ–û–ì–ò–ö–ê –ò–ì–†–´ ===
    function apply(type) {
        if (spinning) return; // –ó–∞–ø—Ä–µ—Ç –¥—é–ø–∞

        const stamp = document.getElementById('stamp-ui');
        
        const targetIndex = targets.findIndex(t => t.name === currentItem.name);
        if (targetIndex === -1) return;

        const actions = {
            'ban': { 
                label: '–ë–ê–ù', 
                color: '#d32f2f', 
                log: `–°–µ—Ä–≤–∏—Å ${currentItem.name} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–π –ì–£–õ–ê–ì.`, 
                trustChange: -10, 
                logType: "–≠–ö–°–¢–†–ï–ú–ò–ó–ú",
                effect: () => {
                    targets[targetIndex].blocked = true;
                }
            },
            'slow': { label: '–ú–ï–î–õ–ï–ù–ù–û', color: '#f59e0b', log: `–°–∫–æ—Ä–æ—Å—Ç—å ${currentItem.name} —Å–Ω–∏–∂–µ–Ω–∞ –¥–æ —É—Ä–æ–≤–Ω—è –ø–æ—á—Ç–æ–≤—ã—Ö –≥–æ–ª—É–±–µ–π.`, trustChange: -5, logType: "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï", blocksChange: 5 },
            'clone': { 
                label: '–ò–ú–ü–û–†–¢', 
                color: '#2e7d32', 
                getLog: () => {
                    const patriotName = currentItem.patriotName || `–ù–∞—à–°–µ—Ä–≤–∏—Å –æ—Ç ${currentItem.name}`;
                    return `–í–º–µ—Å—Ç–æ ${currentItem.name} –∑–∞–ø—É—â–µ–Ω –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥: ¬´${patriotName}¬ª.`;
                },
                trustChange: -2, 
                logType: "–ò–ù–§–û–†–ú",
                effect: () => {
                    targets[targetIndex].isCloned = true;
                }
            },
            'tree': { label: '–£–†–ê!', color: '#2e7d32', log: `–î–µ–ø—É—Ç–∞—Ç—ã –ø–æ—Ö–ª–æ–ø–∞–ª–∏ –≤ –ª–∞–¥–æ—à–∏ –≤–æ–∫—Ä—É–≥ –µ–ª–æ—á–∫–∏. –ö—Ä–∞—Å–∏–≤–æ!`, trustChange: 15, logType: "–°–ö–†–ï–ü–ê", blocksChange: 10 },
            'money': { label: '–ì–†–ê–ù–¢', color: '#d32f2f', log: `–ü–æ–ª—É—á–µ–Ω–æ 500 –º–ª–Ω –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è ${currentItem.name} –Ω–∞ –º–æ–ª–æ–¥–µ–∂—å.`, trustChange: -1, logType: "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï", moneyChange: 500 },
            'complain': { label: '–ñ–ê–õ–û–ë–ê', color: '#8b5cf6', log: `–ü–æ–¥–∞–Ω–∞ –∂–∞–ª–æ–±–∞ –Ω–∞ –°–ú–ò –∑–∞ –Ω–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ ${currentItem.name}.`, trustChange: 10, logType: "–ü–ê–¢–†–ò–û–¢", blocksChange: 8 },
            'weather': { label: '–ü–û–ì–û–î–ê', color: '#d32f2f', log: `–ü–æ–≥–æ–¥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥—É –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏—è.`, trustChange: -8, logType: "–≠–ö–°–¢–†–ï–ú–ò–ó–ú", blocksChange: 15 },
            'report': { label: '–£–°–ü–ï–•', color: '#2e7d32', log: `–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –æ—Ç—á–µ—Ç: "–í—Å–µ —Ö–æ—Ä–æ—à–æ, –¥–∞–∂–µ –ª—É—á—à–µ!"`, trustChange: 15, logType: "–°–ö–†–ï–ü–ê", moneyChange: -50, blocksChange: 20 },
            'hide': { label: '–°–ö–†–´–¢–û', color: '#f59e0b', log: `–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∫—Ä—ã—Ç–∞ —Ä–∞–¥–∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è.`, trustChange: 5, logType: "–ò–ù–§–û–†–ú", blocksChange: -10 }
        };

        const config = actions[type];
        if (!config) return;

        if (config.effect) config.effect();

        stamp.innerText = config.label;
        stamp.style.borderColor = config.color;
        stamp.style.color = config.color;
        stamp.classList.add('show');

        const logTypeObj = newsTypes.find(t => t.prefix === config.logType) || newsTypes[0];
        const logMessage = config.getLog ? config.getLog() : config.log;
        addLog(`${config.logType}: ${logMessage}`, logTypeObj.color);

        blocksCount += (config.blocksChange || 0);
        money += (config.moneyChange || (Math.floor(Math.random() * 100) + 50));
        trust = Math.max(0, Math.min(100, trust + config.trustChange));
        
        updateStats();
        generateTape();

        setTimeout(() => {
            document.querySelectorAll('.action-btns').forEach(el => el.style.display = 'none');
        }, 800);
    }

    // === –ù–û–í–´–ï –î–ï–ô–°–¢–í–ò–Ø –î–õ–Ø –ü–ê–¢–†–ò–û–¢–ò–ß–ï–°–ö–ò–• –ê–ù–ê–õ–û–ì–û–í ===
    function patriotAction(action) {
        if (!currentItem || !currentItem.isCloned) return;
        
        const config = {
            'ads': { log: `–í ${currentItem.patriotName} –Ω–∞–ø–∏—Ö–∞–Ω–æ 50+ –±–∞–Ω–Ω–µ—Ä–æ–≤. –î–æ—Ö–æ–¥ +50 –º–ª–Ω.`, money: 50, trust: -10, color: "#f59e0b", type: "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï" },
            'max': { log: `–ö ${currentItem.patriotName} –ø—Ä–∏–≤—è–∑–∞–Ω –ú–ê–ö–°. –î–æ–≤–µ—Ä–∏–µ +15, –æ—á–∏—Å—Ç–∫–∞ +20%.`, money: -30, trust: 15, blocks: 20, color: "#ccac41", type: "–°–ö–†–ï–ü–ê" },
            'praise': { log: `${currentItem.patriotName} –≤–æ—Å—Ö–≤–∞–ª—è–µ—Ç—Å—è –≤ –°–ú–ò. –û—á–∏—Å—Ç–∫–∞ +30%, –±—é–¥–∂–µ—Ç -40 –º–ª–Ω.`, money: -40, trust: -15, blocks: 30, color: "#64748b", type: "–ò–ù–§–û–†–ú" }
        }[action];

        if (!config) return;

        addLog(`${config.type}: ${config.log}`, config.color);
        money = Math.max(0, money + (config.money || 0));
        trust = Math.max(0, Math.min(100, trust + (config.trust || 0)));
        blocksCount = Math.max(0, blocksCount + (config.blocks || 0));
        updateStats();

        setTimeout(() => {
            document.querySelectorAll('.action-btns').forEach(el => el.style.display = 'none');
        }, 800);
    }

    function getTruthNews() {
        const type = newsTypes[Math.floor(Math.random() * newsTypes.length)];
        const msg = newsVault[Math.floor(Math.random() * newsVault.length)];
        addLog(`${type.prefix}: ${msg}`, type.color);
        money += 5;
        trust -= 2;
        updateStats();
    }

    function addLog(msg, color = "#cbd5e1") {
        const feed = document.getElementById('news-feed');
        const li = document.createElement('li');
        li.className = 'news-entry';
        li.innerHTML = `[${new Date().toLocaleTimeString()}] ${msg}`;
        li.style.color = color;
        feed.prepend(li);
    }

    // === –ü–û–í–ï–°–¢–ö–ê –î–ù–Ø ===
    function agendaAction(action) {
        let log = "";
        let logType = "–ò–ù–§–û–†–ú";
        let color = "#64748b";

        switch(action) {
            case 'salary':
                money += 50;
                trust -= 15;
                log = "–ó–∞—Ä–ø–ª–∞—Ç—ã –¥–µ–ø—É—Ç–∞—Ç–∞–º –ø–æ–≤—ã—à–µ–Ω—ã. –ë—é–¥–∂–µ—Ç –ø–æ–ø–æ–ª–Ω–µ–Ω.";
                logType = "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï";
                color = "#f59e0b";
                break;
            case 'thoughts':
                trust += 20;
                money -= 30;
                log = "–ü–ª–æ—Ö–∏–µ –º—ã—Å–ª–∏ –∑–∞–ø—Ä–µ—â–µ–Ω—ã. –ì—Ä–∞–∂–¥–∞–Ω–µ —Ç–µ–ø–µ—Ä—å –¥—É–º–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ.";
                logType = "–°–ö–†–ï–ü–ê";
                color = "#ccac41";
                break;
            case 'poll':
                const change = Math.floor(Math.random() * 41) - 20;
                trust += change;
                log = change >= 0 
                    ? `–û–ø—Ä–æ—Å –ø–æ–∫–∞–∑–∞–ª —Ä–æ—Å—Ç –¥–æ–≤–µ—Ä–∏—è (+${change}%)!` 
                    : `–û–ø—Ä–æ—Å –≤—ã—è–≤–∏–ª –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ (${change}%)...`;
                logType = change >= 0 ? "–ü–ê–¢–†–ò–û–¢" : "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï";
                color = change >= 0 ? "#10b981" : "#f59e0b";
                break;
            case 'tree-gift':
                trust += 10;
                money -= 5;
                log = "–ï–ª–∫–∏ –ø–æ–¥–∞—Ä–µ–Ω—ã –≤—Å–µ–º —à–∫–æ–ª–∞–º. –î–µ—Ç–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã!";
                logType = "–°–ö–†–ï–ü–ê";
                color = "#ccac41";
                break;
            case 'cyber-war':
                blocksCount += 30;
                trust -= 25;
                log = "–û–±—ä—è–≤–ª–µ–Ω–∞ –∫–∏–±–µ—Ä-—á—Ä–µ–∑–≤—ã—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –°–µ—Ç—å —á–∏—â–µ, –Ω–æ –≥—Ä–∞–∂–¥–∞–Ω–µ –Ω–∞–ø—É–≥–∞–Ω—ã.";
                logType = "–≠–ö–°–¢–†–ï–ú–ò–ó–ú";
                color = "#ef4444";
                break;
            case 'media-bribe':
                if (money < 50) {
                    addLog("–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –ø–æ–¥–∫—É–ø–∞ –°–ú–ò!", "#f59e0b");
                    return;
                }
                money -= 50;
                trust += 15;
                log = "–°–ú–ò –ø–æ–ª—É—á–∏–ª–∏ '–±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –≥—Ä–∞–Ω—Ç'. –¢–µ–ø–µ—Ä—å –≤—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚Äî –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ!";
                logType = "–°–ö–†–ï–ü–ê";
                color = "#ccac41";
                break;
            case 'patriot-law':
                trust += 25;
                money -= 40;
                log = "–ü—Ä–∏–Ω—è—Ç –∑–∞–∫–æ–Ω '–û –¥—É—Ö–æ–≤–Ω–æ-–Ω—Ä–∞–≤—Å—Ç–≤–µ–Ω–Ω–æ–º –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–∏'. –î–æ–≤–µ—Ä–∏–µ —Ä–∞—Å—Ç—ë—Ç!";
                logType = "–ü–ê–¢–†–ò–û–¢";
                color = "#10b981";
                break;
            case 'crypto-ban':
                blocksCount += 20;
                trust -= 10;
                log = "–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã –ø—Ä–∏–∑–Ω–∞–Ω—ã –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã.";
                logType = "–≠–ö–°–¢–†–ï–ú–ò–ó–ú";
                color = "#ef4444";
                break;
            case 'ai-control':
                trust += 10;
                money -= 20;
                log = "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø–æ—Å—Ç–∞–≤–ª–µ–Ω –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—å –ú–∏–Ω—Ü–∏—Ñ—Ä—ã. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞.";
                logType = "–ò–ù–§–û–†–ú";
                color = "#64748b";
                break;
        }

        money = Math.max(0, money);
        trust = Math.max(0, Math.min(100, trust));
        blocksCount = Math.max(0, blocksCount);

        addLog(`${logType}: ${log}`, color);
        updateStats();
    }

    // === –°–û–û–ë–©–ï–ù–ò–Ø –û–¢ –ñ–ò–¢–ï–õ–ï–ô ===
    const citizenMessages = [
        {
            text: "–£ –≤–∞—Å –±—é–¥–∂–µ—Ç {money} –º–ª–Ω ‚ÇΩ! –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–¥–µ–ª–∏—Ç—å 30 –º–ª–Ω –Ω–∞ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—é –±–æ–ª—å–Ω–∏—Ü –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç–∏?",
            good: { money: -30, trust: 15, log: "–í—ã–¥–µ–ª–µ–Ω—ã —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –±–æ–ª—å–Ω–∏—Ü—ã. –°–º–µ—Ä—Ç–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç!" },
            bad: { money: 20, trust: -10, log: "–°—Ä–µ–¥—Å—Ç–≤–∞ –ø—Ä–∏—Å–≤–æ–µ–Ω—ã. –ë–æ–ª—å–Ω–∏—Ü—ã –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è." }
        },
        {
            text: "–®–∫–æ–ª—ã –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –Ω–æ–≤—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö! –í—ã–¥–µ–ª–∏—Ç–µ 25 –º–ª–Ω ‚ÇΩ?",
            good: { money: -25, trust: 12, log: "–®–∫–æ–ª—ã –ø–æ–ª—É—á–∏–ª–∏ —Ç–µ—Ö–Ω–∏–∫—É. –£—á–µ–Ω–∏–∫–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã!" },
            bad: { money: 15, trust: -8, log: "–ö–æ–º–ø—å—é—Ç–µ—Ä—ã –ø—Ä–æ–¥–∞–Ω—ã. –®–∫–æ–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–±–∞–∫–∏." }
        },
        {
            text: "–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä—ã –ø—Ä–æ—Å—è—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ø–µ–Ω—Å–∏–π (+40 –º–ª–Ω ‚ÇΩ). –°–æ–≥–ª–∞—Å–Ω—ã?",
            good: { money: -40, trust: 20, log: "–ü–µ–Ω—Å–∏–∏ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã. –°—Ç–∞—Ä—à–µ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç!" },
            bad: { money: 25, trust: -15, log: "–ü–µ–Ω—Å–∏–∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω—ã. –ü–µ–Ω—Å–∏–æ–Ω–µ—Ä—ã —É—à–ª–∏ –≤ –ª–µ—Å." }
        },
        {
            text: "–ù–∞—É–∫–∞ –∑–∞–¥—ã—Ö–∞–µ—Ç—Å—è! –í—ã–¥–µ–ª–∏—Ç–µ 35 –º–ª–Ω ‚ÇΩ –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è?",
            good: { money: -35, trust: 18, log: "–£—á—ë–Ω—ã–µ –æ—Ç–∫—Ä—ã–ª–∏ –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî '–°–∫—Ä–µ–ø–∏–π'!" },
            bad: { money: 20, trust: -12, log: "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ –ø—Ä–µ–≤—Ä–∞—â–µ–Ω—ã –≤ —Å–∫–ª–∞–¥—ã." }
        },
        {
            text: "–î–æ—Ä–æ–≥–∏ —Ä–∞–∑–≤–∞–ª–∏–≤–∞—é—Ç—Å—è! –¢—Ä–µ–±—É–µ—Ç—Å—è 50 –º–ª–Ω ‚ÇΩ –Ω–∞ —Ä–µ–º–æ–Ω—Ç.",
            good: { money: -50, trust: 25, log: "–î–æ—Ä–æ–≥–∏ –æ—Ç—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã. –ú–∞—à–∏–Ω—ã –µ–¥—É—Ç –±–µ–∑ —Ç—Ä—è—Å–∫–∏!" },
            bad: { money: 30, trust: -20, log: "–î–æ—Ä–æ–≥–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ —á–∞—Å—Ç–Ω—ã–µ —Ä—É–∫–∏. –¢–µ–ø–µ—Ä—å –ø–ª–∞—Ç–Ω—ã–µ —è–º—ã." }
        },
        {
            text: "–≠–∫–æ–ª–æ–≥–∏ —Ç—Ä–µ–±—É—é—Ç 20 –º–ª–Ω ‚ÇΩ –Ω–∞ –æ—á–∏—Å—Ç–∫—É —Ä–µ–∫.",
            good: { money: -20, trust: 10, log: "–†–µ–∫–∏ —á–∏—Å—Ç—ã! –†—ã–±–∞ –ø–æ—ë—Ç –≥–∏–º–Ω." },
            bad: { money: 10, trust: -7, log: "–†–µ–∫–∏ –ø—Ä–∏–∑–Ω–∞–Ω—ã –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã." }
        },
        {
            text: "–ú–æ–ª–æ–¥—ë–∂—å –ø—Ä–æ—Å–∏—Ç —Å–æ–∑–¥–∞—Ç—å IT-–ø–∞—Ä–∫ –∑–∞ 45 –º–ª–Ω ‚ÇΩ!",
            good: { money: -45, trust: 22, log: "IT-–ø–∞—Ä–∫ –æ—Ç–∫—Ä—ã—Ç! –ú–æ–ª–æ–¥—ë–∂—å —Å–æ–∑–¥–∞—ë—Ç '–°–∫—Ä–µ–ø–∞-–û–Ω–ª–∞–π–Ω'." },
            bad: { money: 25, trust: -14, log: "IT-–ø–∞—Ä–∫ —Å—Ç–∞–ª –∫–∞–∑–∏–Ω–æ. –ú–æ–ª–æ–¥—ë–∂—å –∏–≥—Ä–∞–µ—Ç –≤ '–ì–æ—Å–ª–æ—Ç–æ'." }
        },
        {
            text: "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ 30 –º–ª–Ω ‚ÇΩ –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–µ–∞—Ç—Ä–æ–≤ –∏ –º—É–∑–µ–µ–≤.",
            good: { money: -30, trust: 16, log: "–¢–µ–∞—Ç—Ä—ã –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω—ã! –°–ø–µ–∫—Ç–∞–∫–ª—å '–°–∫—Ä–µ–ø–∞ –∏ –ì–æ—Å–ø–ª–∞–Ω' ‚Äî —Ö–∏—Ç —Å–µ–∑–æ–Ω–∞." },
            bad: { money: 18, trust: -10, log: "–¢–µ–∞—Ç—Ä—ã –∑–∞–∫—Ä—ã—Ç—ã. –ê–∫—Ç—ë—Ä—ã –∏–≥—Ä–∞—é—Ç –≤ Telegram-–±–æ—Ç–∞—Ö." }
        },
        {
            text: "–§–µ—Ä–º–µ—Ä—ã –ø—Ä–æ—Å—è—Ç 25 –º–ª–Ω ‚ÇΩ –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–µ–ª—å—Å–∫–æ–≥–æ —Ö–æ–∑—è–π—Å—Ç–≤–∞.",
            good: { money: -25, trust: 14, log: "–•–ª–µ–± –¥–µ—à—ë–≤—ã–π! –ö–∞—Ä—Ç–æ—à–∫–∞ ‚Äî –∑–æ–ª–æ—Ç–∞—è!" },
            bad: { money: 15, trust: -9, log: "–§–µ—Ä–º–µ—Ä—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∏–º–ø–æ—Ä—Ç–Ω—ã–µ –æ–≤–æ—â–∏-–∞–≥–µ–Ω—Ç—ã." }
        },
        {
            text: "–ù—É–∂–Ω–æ 40 –º–ª–Ω ‚ÇΩ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–µ—Ç—Å–∫–∏—Ö –ø–ª–æ—â–∞–¥–æ–∫.",
            good: { money: -40, trust: 20, log: "–î–µ—Ç–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã! –ì–æ—Ä–∫–∏ ‚Äî –∏–∑ —á–∏—Å—Ç–æ–≥–æ –ø–∞—Ç—Ä–∏–æ—Ç–∏–∑–º–∞." },
            bad: { money: 25, trust: -15, log: "–ü–ª–æ—â–∞–¥–∫–∏ –ø–µ—Ä–µ–¥–µ–ª–∞–Ω—ã –ø–æ–¥ –ø–∞—Ä–∫–æ–≤–∫–∏ –¥–ª—è –¥–µ–ø—É—Ç–∞—Ç–æ–≤." }
        },
        {
            text: "–£—á—ë–Ω—ã–µ –ø—Ä–æ—Å—è—Ç 30 –º–ª–Ω ‚ÇΩ –Ω–∞ –∫–≤–∞–Ω—Ç–æ–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä.",
            good: { money: -30, trust: 18, log: "–ö–≤–∞–Ω—Ç–æ–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä –ø—Ä–µ–¥—Å–∫–∞–∑–∞–ª –ø–æ–±–µ–¥—É –Ω–∞ –≤—ã–±–æ—Ä–∞—Ö!" },
            bad: { money: 20, trust: -12, log: "–ö–≤–∞–Ω—Ç–æ–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä –ø—Ä–æ–¥–∞–Ω –ö–∏—Ç–∞—é –∑–∞ –±–∏—Ç–∫–æ–∏–Ω—ã." }
        },
        {
            text: "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ 35 –º–ª–Ω ‚ÇΩ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π Wi-Fi –≤ –ø–∞—Ä–∫–∞—Ö.",
            good: { money: -35, trust: 17, log: "Wi-Fi –≤ –ø–∞—Ä–∫–∞—Ö! –ù–æ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö." },
            bad: { money: 20, trust: -13, log: "Wi-Fi –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ —Ä–∞–¥–∏–æ '–ì–æ–ª–æ—Å –†–æ—Å—Å–∏–∏'." }
        }
    ];

    function showCitizenMessage() {
        if (money <= 0) return;

        const popup = document.getElementById('citizen-popup');
        const messageEl = document.getElementById('citizen-message');

        const msg = citizenMessages[Math.floor(Math.random() * citizenMessages.length)];
        const text = msg.text.replace("{money}", money);
        messageEl.innerText = text;
        popup.style.display = 'block';

        setTimeout(() => {
            if (popup.style.display !== 'none') {
                popup.style.display = 'none';
            }
        }, 15000);
    }

    function citizenChoice(choice) {
        const popup = document.getElementById('citizen-popup');
        popup.style.display = 'none';

        const currentText = document.getElementById('citizen-message').innerText;
        const msg = citizenMessages.find(m => m.text.replace("{money}", money) === currentText);

        if (!msg) return;

        const effect = choice === 'good' ? msg.good : msg.bad;
        
        money += effect.money;
        trust += effect.trust;
        money = Math.max(0, money);
        trust = Math.max(0, Math.min(100, trust));

        addLog(`–û–ë–†–ê–©–ï–ù–ò–ï –ì–†–ê–ñ–î–ê–ù–ò–ù–ê: ${effect.log}`, choice === 'good' ? "#10b981" : "#ef4444");
        updateStats();

        if (choice === 'bad') {
            const agendaButtons = Array.from(document.querySelectorAll('.agenda-buttons .btn'));
            const activeButtons = agendaButtons.filter(btn => !btn.disabled && !btn.classList.contains('exploding'));
            
            if (activeButtons.length > 0) {
                const randomBtn = activeButtons[Math.floor(Math.random() * activeButtons.length)];
                randomBtn.disabled = true;
                randomBtn.classList.add('exploding');
                randomBtn.title = "–°–ª–æ–º–∞–Ω–æ";
                disabledAgendaButtons.add(randomBtn);
            }
        }
    }

    function startCitizenMessages() {
        if (citizenInterval) clearInterval(citizenInterval);
        citizenInterval = setInterval(() => {
            if (money > 0 && Math.random() < 0.3) {
                showCitizenMessage();
            }
        }, 20000);
    }

    // === –í–ò–ë–†–ê–¶–ò–Ø –ü–û –î–û–í–ï–†–ò–Æ ===
    function getVibrationLevel(trust) {
        if (trust >= 95) return 0;
        if (trust >= 85) return 1;
        if (trust >= 75) return 2;
        if (trust >= 50) return 3;
        if (trust >= 25) return 4;
        return 5;
    }

    function applyVibration() {
        const area = document.getElementById('vibrating-area');
        area.className = area.className.replace(/vibrate-\d+/g, '').trim();
        const level = getVibrationLevel(trust);
        area.classList.add(`vibrate-${level}`);
    }

    // === –§–û–ù –ü–û –î–û–í–ï–†–ò–Æ ===
    function updateBackground() {
        const ratio = trust / 100;
        const r = Math.round(15 * ratio + 74 * (1 - ratio));
        const g = Math.round(23 * ratio + 0 * (1 - ratio));
        const b = Math.round(42 * ratio + 0 * (1 - ratio));
        document.body.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
    }

    // === –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –î–ï–ì–†–ê–î–ê–¶–ò–Ø ===
    function degradeStep() {
        if (trust <= 0) {
            degradationActive = false;
            checkGameOver();
            return;
        }

        let decrement = 0;
        let delay = 2000;

        if (trust <= 1) {
            decrement = 1.0;
            delay = 500;
        } else if (trust <= 2) {
            decrement = 0.5;
            delay = 1000;
        } else if (trust <= 5) {
            decrement = 0.2;
            delay = 1500;
        } else if (trust <= 10) {
            decrement = 0.1;
            delay = 2000;
        } else {
            degradationActive = false;
            return;
        }

        trust = parseFloat((trust - decrement).toFixed(1));
        if (trust < 0) trust = 0;
        updateStats();

        if (trust > 0 && trust <= 10) {
            setTimeout(degradeStep, delay);
        } else {
            degradationActive = false;
        }
    }

    function startDegradation() {
        if (degradationActive) return;
        degradationActive = true;
        degradeStep();
    }

    // === –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ===
    function updateStats() {
        document.getElementById('stat-money').innerText = `${money} –ú–õ–ù ‚ÇΩ`;
        document.getElementById('stat-blocks').innerText = `${Math.max(0, Math.min(100, blocksCount))}%`;
        const trustEl = document.getElementById('stat-trust');
        trustEl.innerText = `${trust}%`;
        trustEl.style.color = trust < 20 ? 'var(--danger)' : 'var(--rkn-gold)';
        
        applyVibration();
        updateBackground();
        
        const brokenEq = document.getElementById('broken-equipment');
        if (trust <= 10) {
            brokenEq.style.display = 'block';
        } else {
            brokenEq.style.display = 'none';
        }
        
        const escapeBtn = document.getElementById('escape-btn');
        if (trust <= 10 && !escapeButtonShown) {
            escapeBtn.style.display = 'block';
            escapeButtonShown = true;
            startDegradation();
        } else if (trust > 10 && escapeButtonShown) {
            escapeBtn.style.display = 'none';
            escapeButtonShown = false;
            degradationActive = false;
        }
        
        // === –ü–†–û–í–ï–†–ö–ê –ù–ê –ü–û–ë–ï–î–£ ===
        if (blocksCount >= 100) {
            checkVictory();
        }
        
        if (trust <= 0) {
            checkGameOver();
        }
    }

    function checkGameOver() {
        if (degradationActive) degradationActive = false;
        if (citizenInterval) clearInterval(citizenInterval);
        startHangAudio();
        document.getElementById('main-content').style.display = 'none';
        const bsod = document.getElementById('bsod');
        bsod.style.display = 'block';
        setTimeout(() => bsod.classList.add('bsod-shake'), 100);
        document.getElementById('reboot-btn').onclick = () => location.reload();
    }

    function escapeFromDuma() {
        if (citizenInterval) clearInterval(citizenInterval);
        stopMainAudio();
        stopHangAudio();
        document.getElementById('main-content').style.display = 'none';
        document.getElementById('escape-screen').style.display = 'block';
    }

    function checkVictory() {
        if (citizenInterval) clearInterval(citizenInterval);
        stopMainAudio();
        stopHangAudio();
        document.getElementById('main-content').style.display = 'none';
        const victoryScreen = document.getElementById('victory-screen');
        victoryScreen.style.display = 'block';
        document.getElementById('award-btn').onclick = () => location.reload();
    }

    // === –ê–£–î–ò–û ===
    function toggleAudio(e) {
        if (e) e.stopPropagation();
        
        if (!audioBuffer) {
            alert("–ú—É–∑—ã–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª ¬´trikoz.mp3¬ª —Ä—è–¥–æ–º.");
            return;
        }
        
        if (isMainPlaying) {
            stopMainAudio();
            document.querySelector('.music-toggle').classList.remove('music-playing');
        } else {
            playMainAudio();
            document.querySelector('.music-toggle').classList.add('music-playing');
        }
    }

    // === –ö–ù–û–ü–ö–ò –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê ===
    document.getElementById('restart-btn').onclick = () => {
        stopMainAudio();
        stopHangAudio();
        location.reload();
    };
    document.getElementById('reboot-btn').onclick = () => {
        stopMainAudio();
        stopHangAudio();
        location.reload();
    };
    document.getElementById('award-btn').onclick = () => {
        stopMainAudio();
        stopHangAudio();
        location.reload();
    };

    // === –ó–ê–ü–£–°–ö ===
    window.onload = () => {
        initSnow();
        drawSnow();
        generateTape();
        updateStats();
        startCitizenMessages();
        loadAudio();
    };
    
    window.onresize = initSnow;
</script>
</body>
</html>
